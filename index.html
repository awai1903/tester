<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Pro Card Generator</title>
<style>
/* ===== Body & Container ===== */
body {
  margin: 0;
  padding: 0;
  font-family: 'Poppins', sans-serif;
  background: #111;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 20px;
  overflow-x: hidden;
}

#generator {
  width: 100%;
  max-width: 900px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ===== Header ===== */
h1 {
  font-size: 32px;
  margin-bottom: 20px;
  text-align: center;
  color: #ffcc00;
  text-shadow: 2px 2px 5px #000;
  animation: glow 2s infinite alternate;
}

@keyframes glow {
  0% { text-shadow: 0 0 5px #ffcc00, 0 0 10px #ffcc00; }
  100% { text-shadow: 0 0 20px #ffcc00, 0 0 40px #ffcc00; }
}

/* ===== Input Controls ===== */
textarea, select, input {
  width: 100%;
  margin-bottom: 15px;
  padding: 14px;
  border-radius: 12px;
  border: none;
  font-size: 16px;
}

textarea { resize: none; }

button {
  padding: 14px 24px;
  margin: 5px;
  background: linear-gradient(90deg,#ff7f50,#ffcc00);
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  color: #111;
}

button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px #ffcc00;
}

/* ===== Preview Container ===== */
#previewContainer {
  margin-top: 25px;
  width: 100%;
  height: 500px;
  perspective: 2000px;
  position: relative;
  overflow: hidden;
}

/* ===== Card Styles ===== */
.card {
  width: 100%;
  height: 100%;
  border-radius: 20px;
  overflow: hidden;
  position: absolute;
  transform-style: preserve-3d;
  transition: transform 1s ease, opacity 1s ease;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 25px;
  box-shadow: 0 0 40px #000;
  background: linear-gradient(135deg,#222,#444);
  opacity: 0;
}

.card h2 {
  font-size: 32px;
  text-align: center;
  margin: 0;
  animation: fadeInUp 1s ease;
}

.card p {
  font-size: 20px;
  text-align: center;
  margin-top: 15px;
  animation: fadeInUp 1.5s ease;
}

/* ===== Card Themes ===== */
.theme-love { background: linear-gradient(135deg,#ff416c,#ff4b2b); color:#fff; }
.theme-birthday { background: linear-gradient(135deg,#fbc2eb,#a6c1ee); color:#111; }
.theme-halloween { background: linear-gradient(135deg,#ff8008,#ffc837); color:#111; }
.theme-royal { background: linear-gradient(135deg,#0f0c29,#302b63,#24243e); color:#fff; }
.theme-summer { background: linear-gradient(135deg,#fddb92,#d1fdff); color:#111; }
.theme-sparkle { background: radial-gradient(circle, #fffc00,#ff00ff,#00ffff); color:#111; }

/* ===== Animated Particles ===== */
.particle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #fff;
  opacity: 0.8;
  pointer-events: none;
  animation: floatUp linear infinite;
}

@keyframes floatUp {
  0% { transform: translateY(100%); opacity:0.6; }
  50% { opacity:1; }
  100% { transform: translateY(-100%); opacity:0; }
}

@keyframes fadeInUp {
  0% { opacity:0; transform: translateY(20px);}
  100% { opacity:1; transform: translateY(0);}
}

/* ===== Share/Input Area ===== */
#shareLink { margin-top:10px; word-break: break-all; width:100%; padding:12px; border-radius:10px; border:none; }

/* ===== Navigation Buttons ===== */
.navBtn { background: linear-gradient(90deg,#00c6ff,#0072ff); color:#fff; }

/* ===== Emoji/Sticker area ===== */
#emojiPanel {
  margin-top:10px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
}
.emojiBtn {
  font-size:24px;
  margin:5px;
  cursor:pointer;
}

/* ===== Background Music ===== */
audio { display:none; }

@media (max-width: 600px){
  .card h2 { font-size: 24px; }
  .card p { font-size: 16px; }
  textarea, select, input { font-size: 14px; }
  button { font-size: 14px; padding: 12px 20px; }
}
</style>
</head>
<body>

<div id="generator">
<h1>Ultimate Pro Card Generator</h1>

<textarea id="cardText" placeholder="Enter your card message here..." rows="4"></textarea>
<select id="themeSelect">
  <option value="theme-love">Love Theme</option>
  <option value="theme-birthday">Birthday Theme</option>
  <option value="theme-halloween">Halloween Theme</option>
  <option value="theme-royal">Royal Theme</option>
  <option value="theme-summer">Summer Theme</option>
  <option value="theme-sparkle">Sparkle Theme</option>
</select>

<div id="emojiPanel">
  <span class="emojiBtn">‚ù§Ô∏è</span>
  <span class="emojiBtn">üéâ</span>
  <span class="emojiBtn">üéÉ</span>
  <span class="emojiBtn">‚ú®</span>
  <span class="emojiBtn">üëë</span>
</div>

<button id="generateBtn">Generate Card</button>

<div id="previewContainer"></div>

<button class="navBtn" id="prevBtn">Previous Card</button>
<button class="navBtn" id="nextBtn">Next Card</button>
<input type="text" id="shareLink" readonly placeholder="Shareable link will appear here..." />

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>
<button id="musicBtn">Play/Pause Music</button>
</div>

<script>
const previewContainer = document.getElementById('previewContainer');
const generateBtn = document.getElementById('generateBtn');
const cardText = document.getElementById('cardText');
const themeSelect = document.getElementById('themeSelect');
const shareLink = document.getElementById('shareLink');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const bgMusic = document.getElementById('bgMusic');
const musicBtn = document.getElementById('musicBtn');
const emojiBtns = document.querySelectorAll('.emojiBtn');

let cards = [];
let currentIndex = -1;

// ===== Emoji Insertion =====
emojiBtns.forEach(emoji=>{
  emoji.addEventListener('click',()=>{ cardText.value += emoji.textContent; });
});

// ===== Particle Generator =====
function spawnParticles(theme){
  for(let i=0;i<50;i++){
    const p = document.createElement('div');
    p.classList.add('particle');
    p.style.left = Math.random()*100 + '%';
    p.style.top = Math.random()*100 + '%';
    p.style.background = theme.includes('love')?'#ff416c':theme.includes('birthday')?'#fbc2eb':'#fff';
    p.style.width = Math.random()*6+4+'px';
    p.style.height = p.style.width;
    p.style.animationDuration = 3+Math.random()*2+'s';
    previewContainer.appendChild(p);
    setTimeout(()=>{previewContainer.removeChild(p)},4000);
  }
}

// ===== Generate Card =====
generateBtn.addEventListener('click',()=>{
  const text = cardText.value;
  const theme = themeSelect.value;
  if(!text) return alert("Enter card text!");
  const card = {text,theme};
  cards.push(card);
  currentIndex = cards.length-1;
  displayCard(card);
  generateShareLink(card);
});

function displayCard(card){
  previewContainer.innerHTML = '';
  const div = document.createElement('div');
  div.classList.add('card',card.theme);
  div.innerHTML = `<h2>Card #${currentIndex+1}</h2><p>${card.text}</p>`;
  previewContainer.appendChild(div);
  spawnParticles(card.theme);
}

function generateShareLink(card){
  const data = encodeURIComponent(JSON.stringify(card));
  shareLink.value = window.location.origin + window.location.pathname + '#' + data;
}

// ===== Navigation =====
nextBtn.addEventListener('click',()=>{
  if(currentIndex < cards.length-1) currentIndex++;
  displayCard(cards[currentIndex]);
  generateShareLink(cards[currentIndex]);
});
prevBtn.addEventListener('click',()=>{
  if(currentIndex > 0) currentIndex--;
  displayCard(cards[currentIndex]);
  generateShareLink(cards[currentIndex]);
});

// ===== Load from link =====
window.onload = ()=>{
  if(window.location.hash){
    try{
      const card = JSON.parse(decodeURIComponent(window.location.hash.substring(1)));
      cards.push(card);
      currentIndex = cards.length-1;
      displayCard(card);
    }catch(e){ console.log('Invalid card link'); }
  }
};

// ===== Music Control =====
musicBtn.addEventListener('click',()=>{
  if(bgMusic.paused) bgMusic.play();
  else bgMusic.pause();
});
</script>
</body>
</html>
